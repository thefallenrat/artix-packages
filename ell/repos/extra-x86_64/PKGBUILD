# Maintainer: AndyRTR <andyrtr@archlinux.org>
# Contributor: Jameson Pugh <imntreal@gmail.com>

pkgname=ell
#_commit=ebc021cee3b2d20ca2af5e3ed02495da616b2fd3 # tags/0.17
pkgver=0.20
pkgrel=1
pkgdesc="Embedded Linux library"
arch=(x86_64)
url="https://01.org/ell"
#url="https://git.kernel.org/pub/scm/libs/ell/ell.git/"
license=('LGPL2.1')
depends=('glibc')
#makedepends=('git')
#source=("git+https://git.kernel.org/pub/scm/libs/ell/ell.git/#commit=$_commit")
#sha256sums=('SKIP')
# https://mirrors.edge.kernel.org/pub/linux/libs/ell/sha256sums.asc
source=(https://mirrors.edge.kernel.org/pub/linux/libs/$pkgname/$pkgname-$pkgver.tar.{xz,sign})
sha256sums=('d4aa08915f4058ecaab509dffbe22665d71dba6fe9626caff63c0e5f4b78a394'
            'SKIP')
validpgpkeys=('E932D120BC2AEC444E558F0106CA9F5D1DCF2659') # "Marcel Holtmann <marcel@holtmann.org>"

#prepare() {
#  cd "$pkgname"
#  ./bootstrap
#}

build() {
  #cd "$pkgname"
  cd "$pkgname-$pkgver"
  ./configure --prefix=/usr
  make
}

check() {
  cd "$pkgname-$pkgver"
  make -k check || :
}

package() {
  cd "$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}
