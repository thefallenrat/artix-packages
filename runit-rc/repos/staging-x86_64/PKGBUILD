# Maintainer: Chris Cromer <chris@cromer.cl>
# Maintainer: Muhammad Herdiansyah <koni@artixlinux.org>

_pkgname=runit-artix
_commit=6cc8c4288f01ea5dac126326f13de11bf14874c1

pkgname=runit-rc
pkgver=20181228
pkgrel=1
pkgdesc='Artix Linux system initialization and shutdown for runit'
arch=('x86_64')
url='https://gitea.artixlinux.org/artix/runit-rc'
license=('BSD')
backup=('etc/rc/rc.conf')
makedepends=('git')
depends=('procps-ng' 'bash' 'opentmpfiles' 'bootlogd' 'elogind-runit')
provides=('init-kmod' 'init-opentmpfiles' 'init-opensysusers')
conflicts=('init-kmod' 'init-opentmpfiles' 'init-opensysusers')
source=("git+${url}.git#commit=$_commit")
sha256sums=('SKIP')
optdepends=('lvm2-runit: LVM support for runit'
            'cryptsetup-runit: Enable boot support for encrypted partitions')

build() {
	cd ${pkgname} #-${pkgver}
	make
}

package() {
	cd ${pkgname} #-${pkgver}
	make DESTDIR="${pkgdir}" install-rc
}
